{% extends 'base.html.twig' %}

{% block title %}
	Projet Immo | Immeubles
{% endblock %}

{% block body %}
	<section class="section-immeuble">
		<h1>Immeubles</h1>
		<div
			class="row">
			<!-- Immeuble -->
			<div id="toolbar" class="me-4 mb-3">
				<button id="advancedSearch" class="btn btn-light">
					<a href="{{ path('immeubles_recherche') }}" class="text-decoration-none">
						<i class="fa-brands fa-searchengin"></i>
						Recherche Avancée</a>
				</button>
				<select class="form-control mt-3">
					<option value="">Export Basique</option>
					<option value="all">Exporter Tout</option>
					<option value="selected">Exporter Séléctionnés</option>
				</select>
			</div>
			<table id="table" data-toolbar="#toolbar" data-search="true" data-show-export="true" data-toggle="table" data-sortable="true" data-pagination="true" data-click-to-select="true" data-search-align="left" class="table table-list table-bordered table-striped m-auto">
				<thead>
					<tr>
						<th data-field="state" data-checkbox="true"></th>
						<th data-field="id" data-sortable="true" scope="col">ID</th>
						<th data-field="description" data-sortable="true" scope="col">Description</th>
						<th data-field="referenceProprio" data-sortable="true" scope="col">Référence Proprio</th>
						<th data-field="vendu" data-sortable="true" scope="col">Vendu</th>
						<th data-field="detail" data-sortable="false" scope="col">Détail</th>
					</tr>
				</thead>
				<tbody class="table-group-divider">
					{% for immeuble in immeubles %}
						<tr>
							<th></th>
							<th>{{ immeuble.id }}</th>
							<th>{{ immeuble.description }}</th>
							<th>{{ immeuble.referenceProprio }}</th>
							{% if immeuble.vendu == 0 %}
								<th class="text-danger">
									<i class="fa-solid fa-xmark"></i>
								</th>
							{% elseif immeuble.vendu == 1 %}
								<th class="text-success">
									<i class="fa-solid fa-check"></i>
								</th>
							{% endif %}
							<th>
								<a href="{{ path('immeubles_detail', {'id': immeuble.id}) }}" class="btn btn-info btn-sm">Détail</a>
							</th>
						</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
	</section>
{% endblock body %}
